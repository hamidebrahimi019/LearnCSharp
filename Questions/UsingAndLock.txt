karbod va nahveye amalkard Using va lock dar C# chetor ast?


زمانی که برنامه های (کاربردی) سرویس گیرنده / سرویس دهنده یا منابع فشرده یا 
چند نحی کار می کنید، 
 امکان دسترسی چندین کاربر یا بیش از یک منبع به برنامه ی شما
 وجود دارد. 
مثال آن تلاش چندین شخص بر افزودن رکورد یا خط جدید به یک فایل یکسان است. 
به منظور جلوگیری از دسترسی کاربر یا یک منبع به شئ از برنامه ی کاربردی مورد نظر،
 لازم است آن قسمت از تراکنش که عملیات در آن جایز نیست قفل ایجاد شود. .
Declare a Variable
lock(Variable)‎
‎{‎
‎    // Do what you want here‎
‎}

وقتی از منابع مدیریت نشده مثل فایل و کانکشن دیتابیس استفاده میشه میتونیم اونا رو داخل یوزینگ استفاده کنیم تا بعد از اتمام کار منابع پس گرفته بشن 
حتی اکر داخلش اکسپشن اتفاق بیفته بازم تابع
Dispose
فراخوانی میشه و منابع پس گرفته میشن

یوزینگ مقل کد زیر میمونه
{
  var font1 = new Font("Arial", 10.0f);
  try
  {
    byte charset = font1.GdiCharSet;
  }
  finally
  {
    if (font1 != null)
      ((IDisposable)font1).Dispose();
  }
}